# å‰åç«¯é€‚é…æ€»ç»“

## âœ… å·²å®Œæˆçš„é€‚é…å·¥ä½œ

### 1. ç™»å½•æ¥å£ âœ…
- **å‰ç«¯è°ƒç”¨**: `POST /api/login`
- **åç«¯å®ç°**: 
  - `POST /api/login` (å…¼å®¹ç«¯ç‚¹)
  - `POST /api/auth/login` (åŸå§‹ç«¯ç‚¹)
- **å“åº”æ ¼å¼**: `{success: true, token: "...", user: {...}}`
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

### 2. æ³¨å†Œæ¥å£ âœ…
- **å‰ç«¯è°ƒç”¨**: `api.register(userData)`
- **åç«¯å®ç°**: `POST /api/auth/register`
- **å“åº”æ ¼å¼**: `{success: true, token: "...", user: {...}}`
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

### 3. å•†å“åˆ—è¡¨æ¥å£ âœ…
- **å‰ç«¯è°ƒç”¨**: `api.getProducts({ city })`
- **åç«¯å®ç°**: `GET /api/products?city=...`
- **åŠŸèƒ½**: æ”¯æŒ city å‚æ•°ç­›é€‰
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

### 4. åˆ†ç±»æ¥å£ âœ…
- **å‰ç«¯è°ƒç”¨**: `api.getCategories()`
- **åç«¯å®ç°**: `GET /api/categories`
- **å“åº”æ ¼å¼**: `[{id, name, icon}, ...]`
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

### 5. ç»“è´¦æ¥å£ âœ…
- **å‰ç«¯è°ƒç”¨**: `api.checkout(orderData)`
- **åç«¯å®ç°**: `POST /api/orders/checkout`
- **å“åº”æ ¼å¼**: `{success: true, orderId: "..."}`
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

### 6. Trade-in è¯„ä¼°æ¥å£ âœ…
- **å‰ç«¯è°ƒç”¨**: `POST /api/estimate`
- **åç«¯å®ç°**: `POST /api/estimate` (å…¼å®¹ç«¯ç‚¹)
- **å“åº”æ ¼å¼**: `{success: true, data: {estimated_price, service_fee, net_amount}}`
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

### 7. Trade-in æäº¤æ¥å£ âœ…
- **å‰ç«¯è°ƒç”¨**: `POST /api/pickup/request`
- **åç«¯å®ç°**: `POST /api/pickup/request` (å…¼å®¹ç«¯ç‚¹)
- **å“åº”æ ¼å¼**: `{success: true, data: {pickup_id, engineer_assigned, ...}}`
- **çŠ¶æ€**: âœ… å·²å®Œæˆ

## âš ï¸ éœ€è¦æ³¨æ„çš„é—®é¢˜

### 1. è´­ç‰©è½¦æ¥å£
- **å‰ç«¯**: ä½¿ç”¨ localStorage (`cartStore`)
- **åç«¯**: æœ‰ `/api/cart` æ¥å£
- **å»ºè®®**: 
  - å¦‚æœå‰ç«¯éœ€è¦æœåŠ¡ç«¯è´­ç‰©è½¦ï¼Œéœ€è¦ä¿®æ”¹å‰ç«¯ä»£ç è°ƒç”¨åç«¯æ¥å£
  - å¦‚æœå‰ç«¯ç»§ç»­ä½¿ç”¨æœ¬åœ°å­˜å‚¨ï¼Œåˆ™æ— éœ€ä¿®æ”¹

### 2. å•†å“æœç´¢
- **å‰ç«¯**: åœ¨ `api.getProducts()` ä¸­æœ¬åœ°æœç´¢
- **åç«¯**: `GET /api/products/search?q=...`
- **å»ºè®®**: å‰ç«¯å¯ä»¥è°ƒç”¨åç«¯æœç´¢æ¥å£ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½

### 3. ä¼˜æƒ å•†å“
- **å‰ç«¯**: åœ¨ `home.js` ä¸­æœ¬åœ°ç­›é€‰å’Œæ’åº
- **åç«¯**: `GET /api/products/deals`
- **å»ºè®®**: å‰ç«¯å¯ä»¥è°ƒç”¨åç«¯ deals æ¥å£

## âŒ æœªå®ç°çš„æ¥å£

### 1. é’±åŒ…æ¥å£
- **å‰ç«¯è°ƒç”¨**: `GET /api/wallet`
- **åç«¯çŠ¶æ€**: âŒ æœªå®ç°
- **ä¼˜å…ˆçº§**: ä¸­

### 2. ä¼˜æƒ åˆ¸æ¥å£
- **å‰ç«¯è°ƒç”¨**: `GET /api/coupons`
- **åç«¯çŠ¶æ€**: âŒ æœªå®ç°
- **ä¼˜å…ˆçº§**: ä¸­

### 3. è®¾å¤‡æ¥å£
- **å‰ç«¯è°ƒç”¨**: `GET /api/devices`, `GET /api/devices/{id}`
- **åç«¯çŠ¶æ€**: âŒ æœªå®ç°
- **ä¼˜å…ˆçº§**: ä½ (å¯èƒ½æ˜¯ trade-in ç›¸å…³)

## ğŸ“‹ æµ‹è¯•å»ºè®®

### 1. æµ‹è¯•ç™»å½•
```bash
curl -X POST "http://127.0.0.1:8000/api/login" \
  -H "Content-Type: application/json" \
  -d '{"email": "test@example.com", "password": "test123"}'
```

### 2. æµ‹è¯•å•†å“åˆ—è¡¨ï¼ˆå¸¦åŸå¸‚ç­›é€‰ï¼‰
```bash
curl "http://127.0.0.1:8000/api/products?city=Vancouver"
```

### 3. æµ‹è¯•åˆ†ç±»
```bash
curl "http://127.0.0.1:8000/api/categories"
```

### 4. æµ‹è¯• Trade-in è¯„ä¼°
```bash
curl -X POST "http://127.0.0.1:8000/api/estimate" \
  -H "Content-Type: application/json" \
  -d '{
    "brand": "Apple",
    "model": "iPhone 14",
    "storage": "256GB",
    "condition": "A"
  }'
```

## ğŸ”§ åç»­å·¥ä½œ

1. **å®ç°é’±åŒ…æ¥å£** (å¦‚æœéœ€è¦)
2. **å®ç°ä¼˜æƒ åˆ¸æ¥å£** (å¦‚æœéœ€è¦)
3. **å‰ç«¯ä»£ç è°ƒæ•´** (å¦‚æœéœ€è¦ä½¿ç”¨æœåŠ¡ç«¯è´­ç‰©è½¦)
4. **æµ‹è¯•æ‰€æœ‰æ¥å£** (ç¡®ä¿å‰åç«¯å®Œå…¨é€‚é…)

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **è®¤è¯**: å¤§éƒ¨åˆ†æ¥å£éœ€è¦ Bearer Tokenï¼Œå‰ç«¯éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ  `Authorization: Bearer <token>`
2. **CORS**: åç«¯å·²é…ç½® CORSï¼Œå…è®¸å‰ç«¯è·¨åŸŸè¯·æ±‚
3. **é”™è¯¯å¤„ç†**: æ‰€æœ‰æ¥å£éƒ½è¿”å›ç»Ÿä¸€çš„é”™è¯¯æ ¼å¼ `{success: false, error: "..."}`
4. **æ•°æ®æ ¼å¼**: ç¡®ä¿å‰ç«¯å‘é€çš„æ•°æ®æ ¼å¼ä¸åç«¯æœŸæœ›çš„æ ¼å¼åŒ¹é…

## ğŸ¯ æ€»ç»“

**å·²é€‚é…çš„æ¥å£**: 7ä¸ª
**éœ€è¦æ³¨æ„çš„é—®é¢˜**: 3ä¸ª
**æœªå®ç°çš„æ¥å£**: 3ä¸ª

æ€»ä½“è€Œè¨€ï¼Œå‰åç«¯çš„ä¸»è¦æ¥å£å·²ç»é€‚é…å®Œæˆï¼Œå¯ä»¥æ”¯æŒåŸºæœ¬çš„ä¸šåŠ¡æµç¨‹ã€‚å‰©ä½™çš„å·¥ä½œä¸»è¦æ˜¯å®ç°ä¸€äº›è¾…åŠ©åŠŸèƒ½ï¼ˆé’±åŒ…ã€ä¼˜æƒ åˆ¸ç­‰ï¼‰å’Œä¼˜åŒ–ï¼ˆä½¿ç”¨æœåŠ¡ç«¯è´­ç‰©è½¦ã€æœç´¢ç­‰ï¼‰ã€‚

